= DPI项目记录
认真
:toc:
:toclevels: 4
:toc-position: left
:source-highlighter: pygments
:icons: font
:sectnums:

== 本周任务总结

TIP: 本周主要准备第一个外场DPI服务器的软件版本。

.本周汇报
****
- [*] 内部自测版本测试完成，内地内部测试点和中北服务器测试点
- [*] 第一个外场发布版本完成，api-v1.0.1版本。
- [ ] 第一个外发版本自测，主要是User-Agent自测进行中，预计周末加班完成,在服务器到来之后，准时交付。
- [ ] 外场服务器硬件平台预估下周一达到，可以安装dpi软件，内部自测。
****

== 下周工作计划安排

TIP: 下周是dpi项目第二阶段开发以及外场服务器外发后的维护

.计划

****
* DPI添加更多应用支持(TTL/微博/游戏/...)---李磊，郝东东
* 外发服务器准备工作，包括软件环境+公司内部自测--孙昊，郝东东　1.5个工作日
* 外发DPI服务器在外场期间的测试数据监控维护---郝东东，孙昊
* 添加厂商MAC库支持　---郝东东 1工作日
* 自动化编译平台构建---李磊
* 外发DPI服务器BUG以及其它问题
****

== 遗留问题

* 目前外场是在终端测自动防止代理，这样的话网络中不可能出现代理数据。那么问题
** DPI服务器该如何测试?

** 已经和叶总商量可以放开终端侧的防代理，但是另外一个问题来了:

** DPI服务器检测出有代理用户，如何确定真伪?待和外场协调商量中。




== 6.25-6.29总结

.每日进展 6-25:
****
- [*] dpi监控程序采用supervisor进行，评估可行性自测通过用在dpi项目上 [supervisor]https://github.com/Supervisor/supervisor　5H
- [*] 外发服务器领到，其中一台准备基础环境搭建完毕。1H
- [*] init脚本搭建基础环境，不再跟随版本，单独领出来.自测功能。2H 

****

.每日进展 6-26
****
- [*] 增加install.sh 在版本包中，主要是一键安装+调试　2H
- [*] 将supervisor添加进代码分之，自动化运行，自动配置所需，开机启动，调试测试　4H
- [*] 中午服务器１挂公司内网
- [ ] 下班前服务器２挂公司内网
- [*] 二亚问题沟通处理　2H  ---其中软件安装适配0.3H  沟通测试1.7H,有问题加班到晚上８点半
****
.每日进展6-27
****
- [*] 二亚项目支持，测试不通过，联合调试支持.本地测试确定不通过，指导对方搭建和我们网关转发方式差不多的环境，进行测试。应该一样有问题。6.5H
- [*] DPI外发服务器install,监控进程启动方法等测试确认.sepervisor配置文件修改，验证，确认没有问题。
****

.每日进展6-28
****
- [] 联调项目跟踪,基本可以证明，对方的程序在我们设备上是不起作用的，可能原因在于对方程序的实现机制不适合linux bridge的情况.
- [] 安排外发服务器,自己测试。测试条目如下:
** 重启服务器，监控进程supervisor可以正常启动并预期正常启动dpi
** dpi程序正常起来，可以采集到数据并分析出结果
** 对分析结果进行验证，搭建小代理环境，验证准备准确性
** down掉端口，杀死dpi进程，看下监控程序supervisor能否正常启动dpi程序，并且记录进程异常log
- [] 数据面集采项目打流支持孙昊侧问题
- [] dpi下一步规划以及项目进展，出报告。可加的应用:腾讯视频，新浪微博，高德地图，优酷，百度地图，爱奇艺，腾讯新闻，酷狗音乐
****

== dpi应用场景

* 网络数据分析
** 市场和用户行为分析
** 电信业务使用行为分析
* 优化与智能流控
** 移动服务
** 金融服务
** 视频服务
** 游戏加速有先
** p2p限制
* 网络保护
** 攻击
** 非法网络行为
* 数据业务的特征、采集接入以及深度解析
* 优化策略的应用和调控(用户行为、网络带宽、业务的QoS)

* DPI流量限速的策略
** 串联流量控制策略
** 并联干扰控制策略
*** TCP截断，伪造TCP RST报文截断TCP链接
*** TCP降速，伪造sequence报文减小TCP花东窗口值
*** UDP截断，通过伪造并发送P2P应用特殊控制命令截断UDP链接
*** UDP降速，通过伪造发送P2P应用特殊命令降低UDP链接的传输速率

