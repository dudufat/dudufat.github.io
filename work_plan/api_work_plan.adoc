= DPI项目记录
认真
:toc:
:toclevels: 4
:toc-position: left
:source-highlighter: pygments
:icons: font
:sectnums:

== 本周任务总结

TIP: 本周主要准备第一个外场DPI服务器的软件版本。

.本周汇报
****
- [*] 内部自测版本测试完成，内地内部测试点和中北服务器测试点
- [*] 第一个外场发布版本完成，api-v1.0.1版本。
- [ ] 第一个外发版本自测，主要是User-Agent自测进行中，预计周末加班完成,在服务器到来之后，准时交付。
- [ ] 外场服务器硬件平台预估下周一达到，可以安装dpi软件，内部自测。
****

== 下周工作计划安排

TIP: 下周是dpi项目第二阶段开发以及外场服务器外发后的维护

.计划

****
* 本周任务安排  6.25-6.29

* 本周最主要的两件事情
** 1.外发服务器环境准备和测试---优先级最高
** 2.DPI第二版本开发
* 人员安排
****
* 郝东东：
- [*] Dpi支持TTL ---周一完成
- [*] Dpi进程监控脚本（周一完成）
- [*] 新服务器外发测试/支持相关（周四完成）
- [ ] 集采板子打流。---周五
- [*] 编译，软件版本管理相关，DPI未来计划演进计划相关---周五
- [ ] 替包软件联合调试


* 李磊:
- [*] 找到适合dpi项目的MAC 厂商库，并在dpi上开发运行---周二

- [ ] 整理出带有imei的虚拟身份列表，发出（半个工作日）。然后可行后按照列表开发代码添加（根据实际虚拟身份确定）。---周五
- [*] TTL合入
- [*] 外发服务器其他相关问题支持。---随时。
- [*] 优化讨论



孙昊：

- [*] Centos编译机搭建准备，centos系统上外发版本正常运行，为服务器做准备—----周一完成
- [*] 外发服务器软件环境准备，在新机器上安装运行dpi，一切准备就绪，测试，问题解决，发出服务器-----周三
- [*] 确定分析模块配置信息（判定规则参数以及依赖配置）的存储方案并完成修改。---周四
- [*] 集采新板子打流（新驱动适配，打流）--周五

****




NOTE: 6.23-6.29周总结

== DPI本周总结

****
- [*] DPI外发第一个软件版本v1.0完成，自测完成。(开启启动，监控进程，异常日志记录，自动分析结果csv)
- [*] 外发服务器两台，按照计划准备完毕，已经发出。
****

== DPI第一代目前问题和近期规划

* dpi接下来确认可加的应用:腾讯视频，新浪微博，高德地图，优酷，百度地图，爱奇艺，腾讯新闻，酷狗音乐
* 软件性能问题
** 采集模块，目前单线程循环采集数据，效率不搞，cpu负荷比较重。考虑采用多个线程分发进行，比如基于五元组hash出一个线程ID，相对应线程ID进行处理。
** 写数据库，目前虽然是异步写入，但每次写入之前都要查询上一次的结果，如果不成功就阻塞，有待优化。
* WEB显示。目前弱需求，但是可以加入代理终端的信息显示。
* 版本升级管理:目前就是强制替换。


== 下周安排:

* 李磊
** 采集模块性能优化，采用多线程，重新设计出方案--周二
** 根据方案编码，代码自测完成---周五
**　

* 孙昊
** 最新板子摸底打流报告　--周一
** 数据库访问性能优化,出方案.--周二
** 数据库访问优化开发自测完成。--周五

* 郝东东
** 外发DPI服务器支持，维护，结果确认。--周五
** DPI的web研究下，显示代理终端信息--周三
** 腾讯视频、新浪微博iemi号添加--周五


== DPI要做成什么样子

* 第一版如果仅仅是识别代理终端，那么功能实现之后基本就是收敛状态，看需求

== dpi能做成什么样子

* 网络数据分析
** 市场和用户行为分析
** 电信业务使用行为分析
* 优化与智能流控
** 移动服务
** 金融服务
** 视频服务
** 游戏加速有先
** p2p限制
* 网络保护
** 攻击
** 非法网络行为
* 数据业务的特征、采集接入以及深度解析
* 优化策略的应用和调控(用户行为、网络带宽、业务的QoS)

* DPI流量限速的策略
** 串联流量控制策略
** 并联干扰控制策略
*** TCP截断，伪造TCP RST报文截断TCP链接
*** TCP降速，伪造sequence报文减小TCP花东窗口值
*** UDP截断，通过伪造并发送P2P应用特殊控制命令截断UDP链接
*** UDP降速，通过伪造发送P2P应用特殊命令降低UDP链接的传输速率

