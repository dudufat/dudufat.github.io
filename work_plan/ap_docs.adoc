= AP排查问题技术总结
haodongdong
:toc:
:toclevels: 4
:toc-position: left
:source-highlighter: pygments
:icons: font
:sectnums:

== PING包不通问题
TIP: AP 不通问题要跟据实际情况实际排查，文中思路只是经验排查

* 常见排除原因
** 查看网口状态，是否是正常UP/RUNNING状态
** 检查协商速率，是否正常。通常，百兆网口的AP直接连接千兆口设备比如AC，会出现不通，需要用千兆POE或者交换机中转一下.
** 单通情况，首先排除电脑端的防火墙设置，由于各种防火墙存在，以及杀毒软件，可能导致单通情况。关闭后，依然出现单通，检查AP上配置是否有 +
   filter配置。检查命令如下： 
*** iptables -L
*** ebtales -L
*** 清除命令：iptables -F
** 以上情况都排除以后，只有抓包来确认报文不通位置
***  *ap上抓包有接收到报文和响应报文，PC上没有收到*
**** 确认转发状态设置正常，'cat /proc/sys/net/ipv4/ip_forward' 是否为1，如果不等于1，则置1
**** 'cat /sys/class/net/eth0/statistics/tx_bytes/rx_bytes'查看状态，确认流量正常，PC端抓包，排除AP驱动问题.
** 其他手段

== AP重启问题排查总结

* [red]#堆栈种类以及排查手段#
** 看门狗重启
** 应用层异常调用重启命令
** 堆栈重启
*** 内存泄漏问题
*** double free问题
*** SKB_OVER_PANIC问题
*** 空指针问题
*** 非法地址访问
*** 内存不足页表映射错误
*** 死锁
**** 死锁类型
*** 其它问题
* 堆栈问题排查思路总结
** 根据堆栈判断原因
** 根据堆栈定位模块
** 根据堆栈寄存器位置，利用OBJDUMP 反汇编找出堆栈位置
*** OBJDUMP使用方法

